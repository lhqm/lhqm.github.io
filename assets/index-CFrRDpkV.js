import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang-J-klaX4f.js";import{a as u,p as i,o as h,c as p,w as o,f,r as n,g as e,h as t}from"./app-bSrHFPqN.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-DnhrUQyh.js";import"./YunCard.vue_vue_type_script_setup_true_lang-CPynrbxK.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-Bs409l9f.js";import"./index-C7yU5XnD.js";const b=e("h2",{id:"问题",tabindex:"-1"},[t("问题 "),e("a",{class:"header-anchor",href:"#问题","aria-label":'Permalink to "问题"'},"​")],-1),k=e("p",null,[t("JDK 21的报错"),e("code",null,"NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport does not have member field 'com.sun.tools.javac.tree.JCTree qualid'"),t(",发现 这个问题最开始还是我在公司电脑上跑得好好的项目，通过github托管后，回家就运行不起来了… 仔细排查确定了三个方向，最终一一排除：")],-1),v=e("ol",null,[e("li",null,[t("kotlin插件问题 kotlin插件可能因为"),e("code",null,"版本不同"),t("而影响到整个项目的构建，因此率先排除这个问题，排除方案："),e("code",null,"禁用 kotlin"),t("，最终问题仍旧存在，排除。")]),e("li",null,[t("IDEA版本问题 可能因为IDEA的"),e("code",null,"运行时kotlin插件"),t("影响到项目的构建，同样禁用kotlin和kotlin反射库，问题依旧存在")]),e("li",null,[t("Maven版本问题 可以排除，公司里是"),e("code",null,"Maven 3.5.7"),t("，自己用的"),e("code",null,"Maven 3.6.3"),t("，版本差别不大，不太可能有问题。")]),e("li",null,[t("JDK版本问题 基本上破案了，不是包管理器有问题就是JDK有问题，才换的"),e("code",null,"JDK21"),t(",本来打算遥遥领先一把，现在估计坑了自己。")])],-1),_=e("h2",{id:"解决方案",tabindex:"-1"},[t("解决方案 "),e("a",{class:"header-anchor",href:"#解决方案","aria-label":'Permalink to "解决方案"'},"​")],-1),J=e("p",null,[t("出现"),e("code",null,"NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport does not have member field 'com.sun.tools.javac.tree.JCTree qualid'"),t(",")],-1),g=e("p",null,"通常涉及到Lombok库版本与Java编译器之间的兼容性问题。最近的Lombok版本通常会修复旧版本中的错误，因此你可以尝试升级Lombok版本来解决这个问题。",-1),$=e("p",null,"需要更新Lombok的依赖项，可以在Maven项目中将Lombok的版本更改为最新版本，比如1.18.30。",-1),D=e("p",null,"可以在pom.xml文件中找到Lombok的依赖项，并将版本号修改为最新版本;",-1),K=e("p",null,[t("实测在修改版本后项目可以正常运行。具体原因可以参照"),e("code",null,"lombok"),t("的官方仓库这个issue:"),e("a",{href:"https://github.com/projectlombok/lombok/issues/3393",target:"_blank",rel:"noreferrer"}," [BUG] lombok 1.8.26 incompatible with JDK21 #3393")],-1),E={__name:"index",setup(T,{expose:m}){const l=JSON.parse('{"title":"JDK21坑点（lombok编译不通过）","description":"","frontmatter":{"title":"JDK21坑点（lombok编译不通过）","date":"2024-02-04T00:00:00.000Z","updated":"2024-02-04T00:00:00.000Z","categories":"采坑记录","codeHeightLimit":400,"tags":["Java","JDK"]},"headers":[{"level":2,"title":"问题","slug":"问题","link":"#问题","children":[]},{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]}],"relativePath":"pages/posts/java/index.md","path":"/home/runner/work/lhqm.github.io/lhqm.github.io/pages/posts/java/index.md","lastUpdated":1715585358000}'),r=u(),s=l.frontmatter||{};return r.meta.frontmatter=Object.assign(r.meta.frontmatter||{},l.frontmatter||{}),i("pageData",l),i("valaxy:frontmatter",s),globalThis.$frontmatter=s,m({frontmatter:{title:"JDK21坑点（lombok编译不通过）",date:"2024-02-04T00:00:00.000Z",updated:"2024-02-04T00:00:00.000Z",categories:"采坑记录",codeHeightLimit:400,tags:["Java","JDK"]}}),(a,j)=>{const d=c;return h(),p(d,{frontmatter:f(s)},{"main-content-md":o(()=>[b,k,v,_,J,g,$,D,K]),"main-header":o(()=>[n(a.$slots,"main-header")]),"main-header-after":o(()=>[n(a.$slots,"main-header-after")]),"main-nav":o(()=>[n(a.$slots,"main-nav")]),"main-content":o(()=>[n(a.$slots,"main-content")]),"main-content-after":o(()=>[n(a.$slots,"main-content-after")]),"main-nav-before":o(()=>[n(a.$slots,"main-nav-before")]),"main-nav-after":o(()=>[n(a.$slots,"main-nav-after")]),comment:o(()=>[n(a.$slots,"comment")]),footer:o(()=>[n(a.$slots,"footer")]),aside:o(()=>[n(a.$slots,"aside")]),"aside-custom":o(()=>[n(a.$slots,"aside-custom")]),default:o(()=>[n(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{E as default};
