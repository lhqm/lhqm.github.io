import{_ as r}from"./ValaxyMain.vue_vue_type_style_index_0_lang-J-klaX4f.js";import{a as p,p as h,o as k,c as u,w as i,f as g,r as t,g as s,h as e}from"./app-bSrHFPqN.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-DnhrUQyh.js";import"./YunCard.vue_vue_type_script_setup_true_lang-CPynrbxK.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-Bs409l9f.js";import"./index-C7yU5XnD.js";const f="/assets/1706583241519--uKLrmJT.png",m="/assets/1706583337755-BPaH3vnf.png",y="/assets/1706584366606-DCwuof6w.png",E="/assets/1706584578654-hhia-yNq.png",F="/assets/1706584667582-MY7ctoaU.png",D="data:image/png;base64,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",b=s("h2",{id:"前言",tabindex:"-1"},[e("前言 "),s("a",{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},"​")],-1),P=s("p",null,[e("在将控件打包编译为exe可安装执行程序以后，项目已经可以被正常安装并启动，但是很多人会发现一个问题，那就是"),s("code",null,"UAC界面报黄甚至爆红"),e("，软件不能被安装，甚至不能被写入注册表。 我们这一节的目的是让这个问题能够得到彻底解决，包括但不限于："),s("code",null,"写入start menu"),e("(用于开机自启)、"),s("code",null,"写入注册表"),e("、"),s("code",null,"写入网络端开启协议"),e("。")],-1),_=s("h2",{id:"准备工作",tabindex:"-1"},[e("准备工作 "),s("a",{class:"header-anchor",href:"#准备工作","aria-label":'Permalink to "准备工作"'},"​")],-1),v=s("p",null,[e("你需要准备好来自inno setup打包的可安装执行程序。如果你尚未拥有这一步的成果，"),s("strong",null,"请看这篇文章"),e("： "),s("a",{href:"/posts/clipPaste/setup"},"进一步将本地粘贴控件打包为可安装执行程序")],-1),C=s("p",null,[e("然后你需要再次开启"),s("code",null,"inno setup 6"),e(",我们准备开始进行签名，在此之前，请你下载一个"),s("code",null,"Open SSL"),e(",依旧是CSDN搜索大法好。")],-1),w=s("blockquote",null,[s("p",null,[e("好的，现在我假设你已经打开了inno setup 6。"),s("s",null,"(打不开的叉出去)")])],-1),x=s("h2",{id:"证书制作",tabindex:"-1"},[e("证书制作 "),s("a",{class:"header-anchor",href:"#证书制作","aria-label":'Permalink to "证书制作"'},"​")],-1),A=s("p",null,[e("啊，偷个懒，这篇文章就能完全解决："),s("a",{href:"https://blog.csdn.net/dounick/article/details/105643285",target:"_blank",rel:"noreferrer"},"完全免费的Windows代码签名证书（大神勿喷）")],-1),H=s("p",null,"不得不说，用最谦虚的标题，写最有用的博客，真的是太厉害啦！在CSDN、简书、甚至stack overflow里翻了两三天，最终才找到了这篇算是真正解决了问题的博客。",-1),T=s("h2",{id:"cer转pfx",tabindex:"-1"},[e("CER转PFX "),s("a",{class:"header-anchor",href:"#cer转pfx","aria-label":'Permalink to "CER转PFX"'},"​")],-1),I=s("p",null,[e("好的，假设你已经通过上述代码完成了。现在你需要将"),s("code",null,"CER证书"),e("转为"),s("code",null,"PFX证书"),e("。")],-1),Z=s("blockquote",null,[s("p",null,"PFX证书用于运行签名，可以理解为信息加密的私钥")],-1),B=s("p",null,[e("使用"),s("code",null,"Open SSL"),e("执行：")],-1),G=s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," openssl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pkcs12"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -export"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -out"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pfx_file.pfx"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -inkey"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," private_key.key"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -in"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cert_file.cer")])])]),s("button",{class:"collapse"})],-1),S=s("p",null,[e("在这个命令中，"),s("code",null,"-out"),e("指定输出文件的路径，"),s("code",null,"-inkey"),e("指定私钥的文件名，而"),s("code",null,"-in"),e("则指定要转换的CER证书文件名。")],-1),j=s("h2",{id:"配置签名工具",tabindex:"-1"},[e("配置签名工具 "),s("a",{class:"header-anchor",href:"#配置签名工具","aria-label":'Permalink to "配置签名工具"'},"​")],-1),O=s("p",null,[e("在"),s("code",null,"Inno setup 6"),e("中，如下配置：")],-1),L=s("p",null,[s("strong",null,[e("第一步，点击"),s("code",null,"Tools"),e("，再点击"),s("code",null,"configure sign tools")])],-1),W=s("figure",null,[s("img",{src:f,alt:"1706583241519",loading:"lazy",decoding:"async",class:"lazy"})],-1),q=s("p",null,[s("strong",null,"第二步，配置签名算法和签名命令")],-1),X=s("p",null,[e("这一步具体看你使用的是什么算法，我使用的是"),s("code",null,"sha1"),e("算法，故如此配置：")],-1),R=s("p",null,[e("点击Add，输入"),s("code",null,"sha1")],-1),K=s("p",null,[e("点"),s("code",null,"OK"),e("，设置签名路径：")],-1),V=s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"D:\\OpenSSL-Win64\\signtool.exe"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," sign"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /v"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "C:\\Users\\java2\\Desktop\\代码签名证书制作工具\\root.pfx"'),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /p"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "ruifox"'),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /t"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," http://timestamp.comodoca.com/authenticode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $f")])])]),s("button",{class:"collapse"})],-1),z=s("p",null,[e("其中"),s("code",null,"D:\\OpenSSL-Win64\\signtool.exe"),e("指向你的"),s("code",null,"signtool"),e("所在位置;")],-1),M=s("p",null,[s("code",null,"C:\\Users\\java2\\Desktop\\代码签名证书制作工具\\root.pfx"),e("指向你上一步生成的信息私钥证书")],-1),Y=s("p",null,[s("code",null,"/p"),e("之后跟上加密证书的密码")],-1),Q=s("p",null,[s("code",null,"http://timestamp.comodoca.com/authenticode"),e("是外置的时间戳服务器。"),s("code",null,"如果加密超时了自己科学上网就行了"),e("。")],-1),U=s("figure",null,[s("img",{src:m,alt:"1706583337755",loading:"lazy",decoding:"async",class:"lazy"})],-1),J=s("h2",{id:"配置加密脚本",tabindex:"-1"},[e("配置加密脚本 "),s("a",{class:"header-anchor",href:"#配置加密脚本","aria-label":'Permalink to "配置加密脚本"'},"​")],-1),N=s("p",null,"这一步可以看上一篇文章中标红的部分，这里做一下着重讲解：",-1),$=s("h3",{id:"指向签名算法",tabindex:"-1"},[e("指向签名算法 "),s("a",{class:"header-anchor",href:"#指向签名算法","aria-label":'Permalink to "指向签名算法"'},"​")],-1),ss=s("p",null,[e("在"),s("code",null,"[setup]"),e("模块中，进行签名算法指定")],-1),es=s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"指定RSA算法进行代码签名")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"SignTool"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"sha1")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";SignTool"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"sha256")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"SignedUninstaller"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"yes")])])]),s("button",{class:"collapse"})],-1),is=s("h3",{id:"指定自动签名包体",tabindex:"-1"},[e("指定自动签名包体 "),s("a",{class:"header-anchor",href:"#指定自动签名包体","aria-label":'Permalink to "指定自动签名包体"'},"​")],-1),ls=s("p",null,[e("在"),s("code",null,"[Files]"),e("模块中，载入指定的包模块进行自动签名")],-1),ts=s("div",{style:{"max-height":"300px"},class:"language-pascal vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"pascal"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[Files]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";对启动文件进行电子签名")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'Source: "D:\\exe4j\\exeDir\\cliphelper.exe"; DestDir: "'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"{app}"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'"; '),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Flags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ignoreversion signonce")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'Source: "D:\\exe4j\\exeDir\\*"; DestDir: "'),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"{app}"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'"; '),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Flags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ignoreversion recursesubdirs createallsubdirs")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; NOTE: Don"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`'t use "Flags: ignoreversion" on any shared system files`)])])]),s("button",{class:"collapse"})],-1),as=s("p",null,"这里需要解释一下的是：",-1),ns=s("p",null,[e("第一行指定"),s("code",null,"可执行文件"),e("是为了绕过"),s("code",null,"安装时"),e("的UAC校验，让软件可以正常下载安装、写注册表、写开机自启动栏。")],-1),os=s("p",null,[e("第二行指定的是"),s("code",null,"运行时包体"),e("，是为了绕过"),s("code",null,"软件启动时"),e("的UAC校验，让软件可以正常启动和后台运行。")],-1),hs=s("h3",{id:"运行打包",tabindex:"-1"},[e("运行打包 "),s("a",{class:"header-anchor",href:"#运行打包","aria-label":'Permalink to "运行打包"'},"​")],-1),cs=s("p",null,"还是点左上角那个运行按钮，不过加签名的话等待时间就长的多了，可以起身去喝杯开水。",-1),ds=s("h3",{id:"证书安装",tabindex:"-1"},[e("证书安装 "),s("a",{class:"header-anchor",href:"#证书安装","aria-label":'Permalink to "证书安装"'},"​")],-1),rs=s("p",null,[e("其实你打包出来的软件，如果没在本机装证书，依旧是不可行的。因为我们的证书是自己签名的，没有第三方CA机构背书，所以你需要"),s("code",null,"在本地安装.spc文件"),e("。")],-1),ps=s("h4",{id:"以本地证书形式安装",tabindex:"-1"},[e("以本地证书形式安装 "),s("a",{class:"header-anchor",href:"#以本地证书形式安装","aria-label":'Permalink to "以本地证书形式安装"'},"​")],-1),ks=s("p",null,[e("右键"),s("code",null,".spc文件"),e("，点击"),s("code",null,"安装证书"),e("，进入安装界面，点击"),s("code",null,"下一步")],-1),us=s("figure",null,[s("img",{src:y,alt:"1706584366606",loading:"lazy",decoding:"async",class:"lazy"})],-1),gs=s("h4",{id:"安装到根证书目录",tabindex:"-1"},[e("安装到根证书目录 "),s("a",{class:"header-anchor",href:"#安装到根证书目录","aria-label":'Permalink to "安装到根证书目录"'},"​")],-1),fs=s("blockquote",null,[s("p",null,"一定是根证书目录！不然部分杀毒软件还是会报毒")],-1),ms=s("figure",null,[s("img",{src:E,alt:"1706584578654",loading:"lazy",decoding:"async",class:"lazy"})],-1),ys=s("h4",{id:"完成安装",tabindex:"-1"},[e("完成安装 "),s("a",{class:"header-anchor",href:"#完成安装","aria-label":'Permalink to "完成安装"'},"​")],-1),Es=s("p",null,[e("上一步点击确认后到下一步，点击"),s("code",null,"完成")],-1),Fs=s("figure",null,[s("img",{src:F,alt:"1706584667582",loading:"lazy",decoding:"async",class:"lazy"})],-1),Ds=s("p",null,"最后提示完成导入即可",-1),bs=s("figure",null,[s("img",{src:D,alt:"1706584692109",loading:"lazy",decoding:"async",class:"lazy"})],-1),Ps=s("h3",{id:"完结",tabindex:"-1"},[e("完结 "),s("a",{class:"header-anchor",href:"#完结","aria-label":'Permalink to "完结"'},"​")],-1),_s=s("blockquote",null,[s("p",null,"到这里，其实已经完成了软件的所有打包和签名了，总的说来还是不难，就是很繁琐，弯弯绕绕的，而且网上的教程大部分都是一知半解的，甚至还有广告商混在里边，不告诉你根证书咋来的，就想着你买他家的。")],-1),Bs={__name:"sign",setup(vs,{expose:c}){const a=JSON.parse('{"title":"安全脚本签名","description":"","frontmatter":{"title":"安全脚本签名","date":"2024-01-14T00:00:00.000Z","updated":"2024-01-30T00:00:00.000Z","categories":"小项目","codeHeightLimit":300,"tags":["开源","Java","粘贴控件"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":2,"title":"证书制作","slug":"证书制作","link":"#证书制作","children":[]},{"level":2,"title":"CER转PFX","slug":"cer转pfx","link":"#cer转pfx","children":[]},{"level":2,"title":"配置签名工具","slug":"配置签名工具","link":"#配置签名工具","children":[]},{"level":2,"title":"配置加密脚本","slug":"配置加密脚本","link":"#配置加密脚本","children":[{"level":3,"title":"指向签名算法","slug":"指向签名算法","link":"#指向签名算法","children":[]},{"level":3,"title":"指定自动签名包体","slug":"指定自动签名包体","link":"#指定自动签名包体","children":[]},{"level":3,"title":"运行打包","slug":"运行打包","link":"#运行打包","children":[]},{"level":3,"title":"证书安装","slug":"证书安装","link":"#证书安装","children":[]},{"level":3,"title":"完结","slug":"完结","link":"#完结","children":[]}]}],"relativePath":"pages/posts/clipPaste/sign.md","path":"/home/runner/work/lhqm.github.io/lhqm.github.io/pages/posts/clipPaste/sign.md","lastUpdated":1715585358000}'),o=p(),n=a.frontmatter||{};return o.meta.frontmatter=Object.assign(o.meta.frontmatter||{},a.frontmatter||{}),h("pageData",a),h("valaxy:frontmatter",n),globalThis.$frontmatter=n,c({frontmatter:{title:"安全脚本签名",date:"2024-01-14T00:00:00.000Z",updated:"2024-01-30T00:00:00.000Z",categories:"小项目",codeHeightLimit:300,tags:["开源","Java","粘贴控件"]}}),(l,ws)=>{const d=r;return k(),u(d,{frontmatter:g(n)},{"main-content-md":i(()=>[b,P,_,v,C,w,x,A,H,T,I,Z,B,G,S,j,O,L,W,q,X,R,K,V,z,M,Y,Q,U,J,N,$,ss,es,is,ls,ts,as,ns,os,hs,cs,ds,rs,ps,ks,us,gs,fs,ms,ys,Es,Fs,Ds,bs,Ps,_s]),"main-header":i(()=>[t(l.$slots,"main-header")]),"main-header-after":i(()=>[t(l.$slots,"main-header-after")]),"main-nav":i(()=>[t(l.$slots,"main-nav")]),"main-content":i(()=>[t(l.$slots,"main-content")]),"main-content-after":i(()=>[t(l.$slots,"main-content-after")]),"main-nav-before":i(()=>[t(l.$slots,"main-nav-before")]),"main-nav-after":i(()=>[t(l.$slots,"main-nav-after")]),comment:i(()=>[t(l.$slots,"comment")]),footer:i(()=>[t(l.$slots,"footer")]),aside:i(()=>[t(l.$slots,"aside")]),"aside-custom":i(()=>[t(l.$slots,"aside-custom")]),default:i(()=>[t(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{Bs as default};
